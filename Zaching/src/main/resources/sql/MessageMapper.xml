<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MessageMapper">

	<resultMap type="message" id="messageSelectMap">
	<result property="messageId" column="message_id" jdbcType="INTEGER"/>
	 <result property="userId" column="user_id" jdbcType="INTEGER"/>
	 <result property="friendId" column="friend_id" jdbcType="INTEGER"/>
	<result property="content" column="content" jdbcType="VARCHAR"/>
	<result property="name" column="name" jdbcType="VARCHAR" />
	<result property="createdDate" column="created_date" jdbcType="DATE"/>
	</resultMap>
	
	
	
	<insert id="addMessage" parameterType="message">
	INSERT
	INTO MESSAGE(message_id , content , created_date,user_id,friend_id  )
	VALUES(
	seq_message_id.nextval, 
	#{content:VARCHAR} , 
	SYSDATE ,
	#{userId:INTEGER},
	#{friendId:INTEGER}
	)
	
	</insert>
	
	<delete id="deleteMessage" parameterType="message">
	DELETE
	FROM message WHERE message_id=#{messageId}
	
	
	</delete>
	
	<select id="getMessage" parameterType="int" resultMap="messageSelectMap">
	SELECT
	message_id,user_id,friend_id,content,created_date
	FROM message
	WHERE message_id=#{messageId}
	
	</select>	
	

	
	
	
	
	
	
	
	
	</mapper>
	